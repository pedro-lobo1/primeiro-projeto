<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="UTF-8">
	<title>Cadastro de Corretor</title>
	<style>
		body{
			text-align: center;
		}
		table{
			text-align: left;
    			margin-left: auto;
    			margin-right: auto;
		}
		.input-container{
           		text-align: center;
		}
		.data-display {
			 margin-top: 20px;
			 border-top: 1px solid #ccc;
			 padding-top: 15px;
		}
    	</style>
</head>
<body>
	<div>
    	<h2>Dados do Corretor</h2>
    	<form id="dataForm" method="post">
		<table>
			<tr><td class="input-group" colspan="2">
       				<label>Nome:</label><br>
        			<input type="text" id="nome" name="nome" size="46" minlength="2" maxlength="70"  placeholder="Digite seu nome" required>
			</td></tr><br>
			<tr><td>
       				<label for="cpf">CPF:</label><br>
        			<input type="text" id="cpf" name="cpf" maxlength="14" OnKeyPress="formatar('###.###.###-##',this)" placeholder="Digite seu CPF" required><br>
			</td>
			<td>
        			<label>CRECI:</label><br>
        			<input type="text" id ="creci" name="creci" oninput="this.value = this.value.replace(/[^0-9]/g, '').replace(/(\..*?)\..*/g, '$1') minlength="2" maxlength="10" placeholder="Digite seu CRECI" required>
			</td></tr>
			<tr><td colspan="2" class="input-container"><br>
				<button type="submit" size="50" onclick="cadastro()">Enviar</button>
			</td></tr>
		</table><br>
    	</form>
	<script>
		function cadastro(){
		    let nome = document.getElementById("nome").value;
    		    let cpf = document.getElementById("cpf").value;
	 	    let creci = document.getElementById("creci").value;

   		    if (nome.trim() === "" || cpf.trim() === "" || creci.trim() === "") {
       		    alert("Erro: Todos os campos devem ser preenchidos!");
   		    } else {
        	    alert("Dados cadastrados com sucesso!");
    		    }
		}
	</script>
		
		<!-- Exibição dos dados salvos -->
		<div id="dataDisplay" class="data-display">
			<h2>Dados Cadastrados</h2>
			<table>
				<tr><td>
					
					<p id="savenome"></p>
                    			<p id="savecpf"></p>
                    			<p id="savecreci"></p>
				</td></tr>
			</table>
		</div>
	</div>
</body>
    <script>

            function aplicarMascaraCPF(input) {
            let cpf = input.value;
            
            // Remove caracteres não numéricos
            cpf = cpf.replace(/\D/g, "");

            // Aplica a máscara (000.000.000-00)
            cpf = cpf.replace(/^(\d{3})(\d)/, "$1.$2");
            cpf = cpf.replace(/^(\d{3})\.(\d{3})(\d)/, "$1.$2.$3");
            cpf = cpf.replace(/^(\d{3})\.(\d{3})\.(\d{3})(\d)/, "$1.$2.$3-$4");

            // Atualiza o valor no input
            input.value = cpf;
        }

        document.getElementById("cpf").addEventListener("input", function() {
            aplicarMascaraCPF(this);
        });

	    // Evento para salvar os dados do formulário
	    document.getElementById('dataForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Impede o envio padrão do formulário

            // Coleta os valores do formulário
            var nome = document.getElementById('nome').value;
            var cpf = document.getElementById('cpf').value;
            var creci = document.getElementById('creci').value;

            // Exibe os dados salvos na página
            document.getElementById('savenome').textContent = nome;
            document.getElementById('savecpf').textContent = cpf;
            document.getElementById('savecreci').textContent = creci;

	    // Exibe os dados salvos na página
            displaySavedData();

            // Limpa o formulário após o envio
            document.getElementById('dataForm').reset();
        });
    </script>
</html>
